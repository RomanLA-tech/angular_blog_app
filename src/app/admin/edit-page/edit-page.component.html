<div *ngIf='editForm; else loading'>
	<form (ngSubmit)='submit()' [formGroup]='editForm'>
		<label for='title'>Post title</label>
		<input formControlName='title' id='title' placeholder='Post title' type='text'>
		<div *ngIf='editForm.controls["title"].touched && editForm.controls["title"].invalid'
		     class='validation'>
			<small *ngIf='editForm.controls["title"].errors?.["required"]'>This field is required!</small>
		</div>

		<div class='form-control'>
			<label>Post Content</label>
			<quill-editor formControlName='text'></quill-editor>
		</div>

		<div [ngClass]='{invalid: editForm.controls["author"].touched && editForm.controls["author"].invalid}'
		     class='form-control'>
			<label for='author'>Post author</label>
			<input formControlName='author' id='author' placeholder='Post author' type='text'>
			<div *ngIf='editForm.controls["author"].touched && editForm.controls["author"].invalid'
			     class='validation'>
				<small *ngIf='editForm.controls["author"].errors?.["required"]'>This field is required!</small>
			</div>
		</div>

		<button
				[disabled]='!editForm.valid || submitted'
				class='btn btn-block btn-primary'
				type='submit'>Update post
		</button>
	</form>
</div>

<ng-template #loading>
	<p class='text-center'>
		Loading...
	</p>
</ng-template>